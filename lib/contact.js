"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,r,s){return r&&e(t.prototype,r),s&&e(t,s),t}}(),type="contacts",Contact=function(){function e(t){_classCallCheck(this,e),this.i=t}return _createClass(e,[{key:"value",value:function(e){switch(typeof e){case"string":e={email:e};break;default:if(!e.email)throw new Error("Email is required")}return this.data=e,this}},{key:"create",value:function(){if(!this.data)throw new Error("Call .value() to set values first");return this.i.process([type],"POST",[this.data]).then(function(e){return Promise.resolve(e.contacts.pop())})}},{key:"all",value:function(){return this.i.process([type]).then(function(e){return Promise.resolve(e.contacts)})}},{key:"update",value:function(e){if(!this.data)throw new Error("Call .value() to set values first");var t=[type,e];return this.i.process(t,"POST",this.data).then(function(e){return Promise.resolve(e.contact)})}},{key:"delete",value:function(e){var t=[type,e];return this.i.process(t,"DELETE")}},{key:"subscriptions",value:function(){var e=["subscriptions"];return this.i.process(e).then(function(e){return Promise.resolve(e.subscriptions)})}},{key:"subscribe",value:function(e,t){var r=["subscriptions"],s={contactId:e,listId:t,status:"normal"};return this.i.process(r,"POST",[s]).then(function(e){return Promise.resolve(e.subscriptions.pop())})}}]),e}();exports["default"]=Contact,module.exports=exports["default"];