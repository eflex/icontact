"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),_get=function(t,e,r){for(var o=!0;o;){var n=t,i=e,u=r;o=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var c=a.get;if(void 0===c)return;return c.call(u)}var s=Object.getPrototypeOf(n);if(null===s)return;t=s,e=i,r=u,o=!0,a=s=void 0}},_base=require("./base"),_base2=_interopRequireDefault(_base),type="contacts",Contact=function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"count",value:function(){return _get(Object.getPrototypeOf(e.prototype),"count",this).call(this,[type])}},{key:"create",value:function(t){if(!t||!t.email)throw new Error("Email is required in creating new contact.");return _get(Object.getPrototypeOf(e.prototype),"create",this).call(this,t,[type],type)}},{key:"read",value:function(t,r){return _get(Object.getPrototypeOf(e.prototype),"read",this).call(this,t,r,[type],type)}},{key:"update",value:function(t,r){var o=[type,t.toString()];return _get(Object.getPrototypeOf(e.prototype),"update",this).call(this,r,o,"contact")}},{key:"delete",value:function(t){return this.process([type,t.toString()],"DELETE")}},{key:"subscriptions",value:function(){var t=["subscriptions"];return this.process(t).then(function(t){return Promise.resolve(t.subscriptions)})}},{key:"subscribe",value:function(t,e){var r=["subscriptions"],o={contactId:t,listId:e,status:"normal"};return this.process(r,"POST",[o]).then(function(t){return Promise.resolve(t.subscriptions.pop())})}}]),e}(_base2["default"]);exports["default"]=Contact,module.exports=exports["default"];